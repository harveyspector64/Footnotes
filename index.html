<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Footnotes of Creation • Archive</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<style>
/* ------------- 1. RESET & ROOT ----------------- */
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0b0b0c;            /* deep charcoal */
  --card:#151516;
  --stroke:#333;
  --txt:#d7d7d7;
  --muted:#888;
  --accent:#53ff00;        /* CRT-green */
  --ease:cubic-bezier(.25,.1,.25,1);
  font-family: "Inter", system-ui, sans-serif;
}
html,body{height:100%;scroll-behavior:smooth;background:var(--bg);color:var(--txt)}
body.no-scroll{overflow:hidden}

/* ------------- 2. CUSTOM CURSOR ---------------- */
#cursor,#follower{
  position:fixed;top:0;left:0;pointer-events:none;
  width:8px;height:8px;border-radius:50%;
  background:var(--accent);mix-blend-mode:difference;z-index:2000}
#follower{width:24px;height:24px;transition:transform .15s var(--ease)}
.hidden-cursor *{cursor:none}

/* ------------- 3. NAV / FILTER ----------------- */
header{
  position:fixed;top:0;left:0;width:100%;z-index:1000;
  background:#000a;backdrop-filter:blur(6px);
  display:flex;align-items:center;justify-content:space-between;
  padding:.75rem 1rem;border-bottom:1px solid var(--stroke)}
header h1{font-size:.85rem;letter-spacing:2px;color:var(--accent)}
#filters{display:flex;gap:.8rem;font-size:.8rem}
#filters button{
  background:none;border:none;color:var(--txt);padding:.2rem .5rem;
  cursor:pointer;font-weight:600;letter-spacing:1px}
#filters button.active{color:var(--accent)}
/* search icon placeholder */
header .search{width:16px;height:16px;border:1px solid var(--accent)}

/* ------------- 4. MAIN GRID -------------------- */
main{padding:5.5rem 2vw}
.grid{
  display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:1.5rem}
.card{
  position:relative;background:var(--card);border:1px solid var(--stroke);
  cursor:pointer;transition:transform .3s var(--ease);}
.card:hover{transform:translateY(-4px)}
.card img{
  width:100%;display:block;aspect-ratio:4/3;object-fit:cover}
.card .meta{padding:.75rem;font-size:.75rem}
.card .meta h3{font-size:1rem;font-weight:600;margin-bottom:.3rem}
.tag{font-size:.65rem;color:var(--muted);text-transform:uppercase;}

/* ------------- 5. OVERLAY PANEL ---------------- */
#panel{
  position:fixed;top:0;right:-100%;height:100%;width:40%;
  min-width:300px;background:#111;box-shadow:0 0 40px #000a;
  overflow-y:auto;transition:right .6s var(--ease);z-index:1100;
  display:flex;flex-direction:column}
#panel.open{right:0}
#panel header{display:flex;justify-content:space-between;align-items:center;
  padding:1rem;border-bottom:1px solid var(--stroke)}
#panel header h2{font-size:1rem;color:var(--accent)}
.close-btn{background:none;border:none;font-size:1.2rem;color:var(--txt);cursor:pointer}
#panel .body{padding:1.25rem;font-size:.9rem;line-height:1.6}
#panel .body video,#panel .body iframe{width:100%;aspect-ratio:16/9;margin:.7rem 0;border:none}
#panel .footnotes{margin-top:1rem;border-top:1px dashed var(--stroke);padding-top:.7rem;font-size:.8rem;color:var(--muted)}

/* ------------- 6. RESPONSIVE ------------------- */
@media(max-width:680px){
  #panel{width:100%}
}
</style>
</head>
<body class="hidden-cursor">

<!--  1. NAV BAR -->
<header>
  <h1>FOC • ARCHIVE</h1>
  <nav id="filters" aria-label="Filter">
    <button data-filter="all" class="active">all</button>
    <button data-filter="vision">vision</button>
    <button data-filter="text">text</button>
    <button data-filter="promo">promo</button>
  </nav>
  <div class="search" aria-hidden="true"></div>
</header>

<!--  2. GRID -->
<main>
  <section class="grid" id="grid">

    <!--  CARD TEMPLATE  -->
    <article class="card" data-tags="vision promo">
      <img src="https://placehold.co/600x400/ff2e2e/000?text=Genesis+Poster" alt="Genesis Poster placeholder">
      <div class="meta">
        <span class="tag">Vision</span>
        <h3>Genesis Key-Art</h3>
        <span class="date">c. Day 0</span>
      </div>
    </article>

    <article class="card" data-tags="text">
      <img src="https://placehold.co/600x400/1e90ff/000?text=Chapter+Excerpt" alt="Text excerpt placeholder">
      <div class="meta">
        <span class="tag">Text</span>
        <h3>Clamor in the Void</h3>
        <span class="date">Fragment #134</span>
      </div>
    </article>

    <article class="card" data-tags="promo">
      <img src="https://placehold.co/600x400/00af64/000?text=Trailer+Thumb" alt="Video trailer placeholder">
      <div class="meta">
        <span class="tag">Promo</span>
        <h3>30-sec Teaser</h3>
        <span class="date">Now Playing</span>
      </div>
    </article>

    <!--  Duplicate / add as many cards as you like with varying data-tags -->
  </section>
</main>

<!--  3. SLIDE-IN PANEL -->
<aside id="panel" aria-hidden="true">
  <header>
    <h2 id="panelTitle">Title</h2>
    <button class="close-btn" aria-label="Close panel">&times;</button>
  </header>
  <div class="body" id="panelBody">
    <!-- filled dynamically -->
  </div>
</aside>

<!--  4. JS -->
<script>
/* ---------- CUSTOM CURSOR ---------- */
const cursor = document.getElementById('cursor');
const follower = document.getElementById('follower');
let mouseX=0, mouseY=0;
window.addEventListener('mousemove', e=>{
  mouseX = e.clientX; mouseY = e.clientY;
  cursor.style.transform = `translate(${mouseX-4}px,${mouseY-4}px)`;
});
function lerp(a,b,n){ return(a+(b-a)*n);}
let followX=0, followY=0;
function animate(){ 
  followX = lerp(followX, mouseX-12, 0.15);
  followY = lerp(followY, mouseY-12, 0.15);
  follower.style.transform=`translate(${followX}px,${followY}px)`; 
  requestAnimationFrame(animate);
}
animate();

/* ---------- FILTER LOGIC ---------- */
const buttons = document.querySelectorAll('#filters button');
const cards   = document.querySelectorAll('.card');
buttons.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    buttons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const f = btn.dataset.filter;
    cards.forEach(c=>{
      c.style.display = (f==='all'||c.dataset.tags.includes(f))?'block':'none';
    });
  });
});

/* ---------- PANEL LOGIC ---------- */
const panel      = document.getElementById('panel');
const panelTitle = document.getElementById('panelTitle');
const panelBody  = document.getElementById('panelBody');
function openPanel({title,html}){
  panelTitle.textContent = title;
  panelBody.innerHTML = html;
  panel.classList.add('open');
  panel.setAttribute('aria-hidden','false');
  document.body.classList.add('no-scroll');
}
function closePanel(){
  panel.classList.remove('open');
  panel.setAttribute('aria-hidden','true');
  document.body.classList.remove('no-scroll');
}
panel.querySelector('.close-btn').addEventListener('click', closePanel);
document.addEventListener('keydown',e=>{ if(e.key==='Escape') closePanel();});

/* ---------- CARD CLICK HANDLERS + DUMMY CONTENT ---------- */
cards.forEach(c=>{
  c.addEventListener('click',()=>{
    const tag = c.dataset.tags.split(' ')[0];
    let html  = '';
    if(tag==='vision'){
      html = `<p>High-resolution poster art that hints at the cosmic ‘broth of unknowing’. Replace this <em>img</em> with your key-art asset.</p>
              <img src="https://placehold.co/800x600/ff2e2e/000?text=Full+Poster" alt="">
              <div class="footnotes">Ⓕ Footnote 42 : Poster printed on theoretical photon-paper.</div>`;
    }else if(tag==='text'){
      html = `<p><strong>Excerpt&nbsp;— Clamor in the Void</strong></p>
              <p>“In the Before, which is to say the Never-Quite-But-Almost, there roll’d a sort of Clamor…”</p>
              <div class="footnotes">See also: <em>Drunkard’s Tall Tale</em>.</div>`;
    }else{
      html = `<div class="responsive-video">
                <iframe src="https://www.youtube.com/embed/TlP5WIxVirU" title="Teaser"></iframe>
              </div>
              <p>Placeholder teaser clip. Swap the iframe src for your real promo video.</p>`;
    }
    openPanel({title:c.querySelector('h3').textContent,html});
  });
});
</script>
</body>
</html>
